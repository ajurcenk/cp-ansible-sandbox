all:
   vars:
      security_mode: plaintext
      confluent:
         support:
            metrics_enabled: false
            customer_id: ""
         repo_version: 5.3
         package_version: 5.3.1-1 #5.3.0-1
      install_java: true #Disable if you wish to get Java from elsewhere
      jolokia_enabled: false #Disables Jolokia download/install
      jolokia_jar_path: /opt/jolokia/jolokia.jar #Needed regardless of Jolokia being enabled
      kerberos: #Even though we aren't using Kerberos. We currently have to define this.
         keytab_dir: /etc/security/keytabs
      open_file_limit: 100000 #Sets file limits for everything
      zookeeper:
         properties:
            clientPort: 2181
         
preflight:
   hosts:
      zk[1:3].confluent.nerdynick.net:
      kfk[1:3].confluent.nerdynick.net:
      ccc1.confluent.nerdynick.net:
      con1.confluent.nerdynick.net:
      sr1.confluent.nerdynick.net:
      ksql1.confluent.nerdynick.net:
      rest1.confluent.nerdynick.net:
      
zookeeper:
   hosts:
      zk[1:3].confluent.nerdynick.net:
   vars:
      zookeeper_jolokia_port: 7770
         
kafka_broker:
   hosts:
      kfk1.confluent.nerdynick.net:
         broker_id: 1
      kfk2.confluent.nerdynick.net:
         broker_id: 2
      kfk3.confluent.nerdynick.net:
         broker_id: 3
   vars:
      kafka_broker_jolokia_port: 7771 #Needed regardless of Jolokia being enabled
      kafka_port: 9092 #This needs to be defined regarles of properties below
      kafka_broker:
         properties:
            num.partitions: 3
            min.insync.replicas: 2
            log.retention.hours: 3 #Adjust to desired value. Set low for test envs.
            default.replication.factor: 3
            #SSL Specific Configs
            listeners: "PLAINTEXT://:9092,SSL://:9093"
            ssl.client.auth: none
            security.inter.broker.protocol: SSL
            ssl.truststore.location: /var/ssl/private/{{inventory_hostname}}.truststore.jks
            ssl.truststore.password:  !vault | 
                                   $ANSIBLE_VAULT;1.1;AES256
                                   61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                   3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                   32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                   3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                   3838
            ssl.keystore.location: /var/ssl/private/{{inventory_hostname}}.keystore.jks
            ssl.keystore.password: !vault | 
                                   $ANSIBLE_VAULT;1.1;AES256
                                   61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                   3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                   32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                   3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                   3838
            ssl.key.password: !vault | 
                                   $ANSIBLE_VAULT;1.1;AES256
                                   61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                   3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                   32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                   3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                   3838
            #MetricsReport Specific Configs
            confluent.metrics.reporter.topic.partitions: 12
            confluent.metrics.reporter.topic.replicas: 3
            confluent.metrics.reporter.topic.retention.ms: 10800000 #Adjust to desired value. Set low for test envs.
            confluent.metrics.reporter.security.protocol: SSL
            confluent.metrics.reporter.bootstrap.servers: "{{inventory_hostname}}:9093"
            confluent.metrics.reporter.ssl.truststore.location: /var/ssl/private/{{inventory_hostname}}.truststore.jks
            confluent.metrics.reporter.ssl.truststore.password: !vault | 
                                   $ANSIBLE_VAULT;1.1;AES256
                                   61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                   3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                   32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                   3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                   3838 
            
control_center:
   hosts:
      ccc1.confluent.nerdynick.net:
   vars:
      kafka_port: 9093
      control_center:
         properties:
            #REST Interface specific Configs
            confluent.controlcenter.rest.listeners: https://0.0.0.0:9021
            confluent.controlcenter.rest.ssl.keystore.location: /var/ssl/private/{{inventory_hostname}}.keystore.jks
            confluent.controlcenter.rest.ssl.keystore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            confluent.controlcenter.rest.ssl.key.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            confluent.controlcenter.rest.ssl.truststore.location: /var/ssl/private/{{inventory_hostname}}.truststore.jks
            confluent.controlcenter.rest.ssl.truststore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            #Broker Specific Configs
            confluent.controlcenter.streams.security.protocol: SSL
            confluent.controlcenter.streams.ssl.truststore.location: /var/ssl/private/{{inventory_hostname}}.truststore.jks
            confluent.controlcenter.streams.ssl.truststore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            #KSQL Specific Configs
            confluent.controlcenter.ksql.enable: 'true' #Set to false if no KSQL Servers
            #Schema Registry Specific Configs
            confluent.controlcenter.schema.registry.enable: 'true' # Set to false if no Schema Registry
            #Kafka Connect Related Properties
            confluent.controlcenter.connect.default.cluster: "{% for host in groups['kafka_connect'] %}{% if loop.index > 1%},{% endif %}http://{{ host }}:8083{% endfor %}"
                  
kafka_connect:
   hosts:
      con1.confluent.nerdynick.net:
   vars:
      kafka_connect_jolokia_port: 7773 #Needed regardless of Jolokia being enabled
      kafka_port: 9092
      kafka_connect:
         properties:
            security.protocol: SSL
            ssl.truststore.location: /var/ssl/private/{{inventory_hostname}}.truststore.jks
            ssl.truststore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            ssl.keystore.location: /var/ssl/private/{{inventory_hostname}}.keystore.jks
            ssl.keystore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            ssl.key.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            #Default Producer Configuration
            producer.security.protocol: SSL
            producer.ssl.truststore.location: /var/ssl/private/{{inventory_hostname}}.truststore.jks
            producer.ssl.truststore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            producer.ssl.keystore.location: /var/ssl/private/{{inventory_hostname}}.keystore.jks
            producer.ssl.keystore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            producer.ssl.key.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            #Default Producer Metrics Interceptor Configs
            producer.confluent.monitoring.interceptor.security.protocol: SSL
            producer.confluent.monitoring.interceptor.ssl.truststore.location: /var/ssl/private/{{inventory_hostname}}.truststore.jks
            producer.confluent.monitoring.interceptor.ssl.truststore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            producer.confluent.monitoring.interceptor.ssl.keystore.location: /var/ssl/private/{{inventory_hostname}}.keystore.jks
            producer.confluent.monitoring.interceptor.ssl.keystore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            producer.confluent.monitoring.interceptor.ssl.key.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            #Default Consumer Configuration
            consumer.security.protocol: SSL
            consumer.ssl.truststore.location: /var/ssl/private/{{inventory_hostname}}.truststore.jks
            consumer.ssl.truststore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            consumer.ssl.keystore.location: /var/ssl/private/{{inventory_hostname}}.keystore.jks
            consumer.ssl.keystore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            consumer.ssl.key.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            #Default Consumer Metrics Interceptor Configs
            consumer.confluent.monitoring.interceptor.security.protocol: SSL
            consumer.confluent.monitoring.interceptor.ssl.truststore.location: /var/ssl/private/{{inventory_hostname}}.truststore.jks
            consumer.confluent.monitoring.interceptor.ssl.truststore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            consumer.confluent.monitoring.interceptor.ssl.keystore.location: /var/ssl/private/{{inventory_hostname}}.keystore.jks
            consumer.confluent.monitoring.interceptor.ssl.keystore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            consumer.confluent.monitoring.interceptor.ssl.key.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
                  
schema_registry:
   hosts:
      sr1.confluent.nerdynick.net:
   vars:
      schema_registry_jolokia_port: 7772
      kafka_port: 9092
      schema_registry_listener_port: 8081 #Optional
      schema_registry:
         properties:
            kafkastore.security.protocol: SSL
            kafkastore.ssl.truststore.location: /var/ssl/private/{{inventory_hostname}}.truststore.jks
            kafkastore.ssl.truststore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            kafkastore.ssl.keystore.location: /var/ssl/private/{{inventory_hostname}}.keystore.jks
            kafkastore.ssl.keystore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            kafkastore.ssl.key.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
      
ksql:
   hosts:
      ksql1.confluent.nerdynick.net:
   vars:
      ksql_jolokia_port: 7774 #Needed regardless of Jolokia being enabled
      kafka_port: 9092
      ksql_listener_port: 8088 #Optional
      ksql:
         properties:
            security.protocol: SSL
            ssl.truststore.location: /var/ssl/private/{{inventory_hostname}}.truststore.jks
            ssl.truststore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            ssl.keystore.location: /var/ssl/private/{{inventory_hostname}}.keystore.jks
            ssl.keystore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            ssl.key.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            #Metrics Interceptor Configs
            confluent.monitoring.interceptor.security.protocol: SSL
            confluent.monitoring.interceptor.ssl.truststore.location: /var/ssl/private/{{inventory_hostname}}.truststore.jks
            confluent.monitoring.interceptor.ssl.truststore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            confluent.monitoring.interceptor.ssl.keystore.location: /var/ssl/private/{{inventory_hostname}}.keystore.jks
            confluent.monitoring.interceptor.ssl.keystore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            confluent.monitoring.interceptor.ssl.key.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
      
kafka_rest:
   hosts:
      rest1.confluent.nerdynick.net:
   vars:
      kafka_rest_jolokia_port: 7775 #Needed regardless of Jolokia being enabled
      kafka_port: 9092
      kafka_rest:
         properties:
            client.security.protocol: SSL
            client.ssl.truststore.location: /var/ssl/private/{{inventory_hostname}}.truststore.jks
            client.ssl.truststore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            client.ssl.keystore.location: /var/ssl/private/{{inventory_hostname}}.keystore.jks
            client.ssl.keystore.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838
            client.ssl.key.password: !vault | 
                                $ANSIBLE_VAULT;1.1;AES256
                                61383466656534366132336638623938666130313533343962336634663233326262353166356432
                                3365386339343363663166333563366634363466336531360a393466636362386238353564343939
                                32326166656533343436656164353062363438333635646261326162653563336136386634643666
                                3239616565633431320a663236336638306262613866646231666238376138663230306537666337
                                3838